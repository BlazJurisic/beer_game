<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Superpivko</title>
    <script src="Build/UnityLoader.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <style>
      html, body {margin: 0; height: 100%; overflow: hidden; background-color: rgb(34,31,32);}
      .material-icons.md-48 { font-size: 105px; color: white }
    </style>
    

  </head>
  <body >
    <div id="root" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
      <!-- <div id="unityContainer" style="position: fixed; width: 100vw; height: 100vh; margin: auto"></div> -->

    </div>
  </body>


  <script>
    function createGame() {
      const div = document.createElement("div");
      const vw = "80vw"
      const vh = "80vh"
      div.style.width = vw;
      div.style.height = vh;
      // div.style.position = 'absolute';
      div.style.position = "fixed";
      div.id = "unityContainer"
      document.getElementById("root").appendChild(div);
      UnityLoader.instantiate("unityContainer", "Build/ProdBuild.json");

    }

    function createPleaseRotate() {
      const div = document.createElement("div");
      const vw = "100%"
      const vh = "100%"
      div.style.width = vw;
      div.style.height = vh;
      div.id = 'please-rotate'
      div.style.backgroundColor = 'rgb(34,31,32)'
      div.style.display = 'flex'
      div.style.justifyContent = 'center'
      div.style.alignItems = 'center'
      div.style.flexDirection = 'column'

      const i = document.createElement("i");
      i.classList.add("material-icons")
      i.classList.add("md-48")
      i.innerHTML = "screen_rotation"

      const text = document.createElement("div");
      
      text.style.color = 'white';
      text.innerHTML = ' <br> Okreni zaslon kako bi pokrenuo igru!'


      div.appendChild(i)
      div.appendChild(text)
      document.getElementById("root").appendChild(div);
      // <i class="material-icons">face</i>
    }

    if(window.innerHeight < window.innerWidth) {
      const rotate = document.getElementById("please-rotate")
      rotate && rotate.remove()
      createGame()
    } else {
      createPleaseRotate()
    }

    function onOrientationChange() {
      if(window.innerHeight > window.innerWidth) {
        const rotate = document.getElementById("please-rotate")
        rotate && rotate.remove()
        createGame()
           
      } else {
        const container = document.getElementById("unityContainer")
        container && container.remove()
        createPleaseRotate()
     
    }
  }

  
  // document.body.appendChild(div);

  window.addEventListener('orientationchange', onOrientationChange);

  </script>

</html>

